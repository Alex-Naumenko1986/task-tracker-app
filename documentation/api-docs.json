{"openapi":"3.0.1","info":{"title":"Task management Api","description":"API for managing tasks","contact":{"name":"Naumenko Aleksandr","email":"goodwin-na@mail.ru"},"version":"1.0.0"},"servers":[{"url":"http://localhost:8080","description":"Generated server url"}],"tags":[{"name":"Контроллер авторизации","description":"Контроллер для регистрации и авторизации"},{"name":"Контроллер задач","description":"Контроллер для управления задачами"}],"paths":{"/tasks/{taskId}":{"get":{"tags":["Контроллер задач"],"summary":"Получение задачи по ID","description":"Позволяет получить задачу по идентификатору","operationId":"getTaskById","parameters":[{"name":"taskId","in":"path","description":"Идентификатор задачи","required":true,"schema":{"type":"string"}}],"responses":{"401":{"description":"Пользователь не аутентифицирован"},"200":{"description":"Задача найдена","content":{"application/json":{"schema":{"$ref":"#/components/schemas/TaskResponse"}}}},"404":{"description":"Задача с таким идентификатором не найдена","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}}},"security":[{"JWT":[]}]},"put":{"tags":["Контроллер задач"],"summary":"Обновление задачи","description":"Позволяет пользователю обновить созданную им задачу,в том числе поменять статус и назначить исполнителя задачи","operationId":"updateTask","parameters":[{"name":"taskId","in":"path","description":"Идентификатор задачи","required":true,"schema":{"type":"string"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/TaskRequest"}}},"required":true},"responses":{"401":{"description":"Пользователь не аутентифицирован"},"404":{"description":"Задача с таким идентификатором не найдена или пользователь не является автором задачи","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"200":{"description":"Задача успешно обновлена","content":{"application/json":{"schema":{"$ref":"#/components/schemas/TaskResponse"}}}}},"security":[{"JWT":[]}]},"delete":{"tags":["Контроллер задач"],"summary":"Удаление задачи по ID","description":"Позволяет удалить задачу по идентификатору","operationId":"deleteTaskById","parameters":[{"name":"taskId","in":"path","description":"Идентификатор задачи","required":true,"schema":{"type":"string"}}],"responses":{"401":{"description":"Пользователь не аутентифицирован"},"200":{"description":"Задача удалена"},"404":{"description":"Задача с таким идентификатором не найдена или пользователь не является автором задачи","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}}},"security":[{"JWT":[]}]}},"/tasks":{"get":{"tags":["Контроллер задач"],"summary":"Получение всех задач конкретного автора или исполнителя","description":"Позволяет получить все задачи определенного автора и/или исполнителя. Поддерживает пагинацию. Задачи выводятся со всеми комментариями","operationId":"getTasks","parameters":[{"name":"page","in":"query","description":"номер страницы","required":false,"schema":{"type":"integer","format":"int32","default":0}},{"name":"size","in":"query","description":"размер страницы","required":false,"schema":{"type":"integer","format":"int32","default":20}},{"name":"author","in":"query","description":"email автора задач, по которому производится фильтрация","required":false,"schema":{"type":"string"}},{"name":"performer","in":"query","description":"email исполнителя задач, по которому производится фильтрация","required":false,"schema":{"type":"string"}}],"responses":{"401":{"description":"Пользователь не аутентифицирован"},"404":{"description":"Автор или исполнитель с таким email не найден","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"200":{"description":"Задачи найдены","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/TaskResponse"}}}}}},"security":[{"JWT":[]}]},"post":{"tags":["Контроллер задач"],"summary":"Создание задачи","description":"Позволяет пользователю создать новую задачу","operationId":"createTask","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/TaskRequest"}}},"required":true},"responses":{"401":{"description":"Пользователь не аутентифицирован"},"404":{"description":"Пользователь, указанный как исполнитель, не найден","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"200":{"description":"Задача успешно создана","content":{"application/json":{"schema":{"$ref":"#/components/schemas/TaskResponse"}}}},"400":{"description":"Введены невалидные данные при создании задачи","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}}},"security":[{"JWT":[]}]}},"/tasks/{taskId}/comments":{"post":{"tags":["Контроллер задач"],"summary":"Добавление комментария к задаче","description":"Позволяет любому пользователю добавить комментарий к задаче","operationId":"addComment","parameters":[{"name":"taskId","in":"path","description":"Идентификатор задачи","required":true,"schema":{"type":"string"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CommentRequest"}}},"required":true},"responses":{"401":{"description":"Пользователь не аутентифицирован"},"200":{"description":"Комментарий успешно добавлен","content":{"application/json":{"schema":{"$ref":"#/components/schemas/TaskResponse"}}}},"404":{"description":"Задача с таким идентификатором не найдена","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}}},"security":[{"JWT":[]}]}},"/register":{"post":{"tags":["Контроллер авторизации"],"summary":"Регистрация пользователя","description":"Позволяет зарегистрировать пользователя","operationId":"createUser","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserRequest"}}},"required":true},"responses":{"409":{"description":"Пользователь уже существует","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"400":{"description":"Введены неверные данные при регистрации","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"201":{"description":"Новый пользователь зарегистрирован","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserResponse"}}}}}}},"/login":{"post":{"tags":["Контроллер авторизации"],"summary":"Аутентификация пользователя","description":"Позволяет произвести аутентификацию пользователя","operationId":"login","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/AuthRequest"}}},"required":true},"responses":{"200":{"description":"Пользователь успешно аутентифицирован","content":{"application/json":{"schema":{"$ref":"#/components/schemas/JwtResponse"}}}},"401":{"description":"Неверное имя пользователя или пароль","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}}}}},"/tasks/{taskId}/status":{"patch":{"tags":["Контроллер задач"],"summary":"Изменение статуса задачи","description":"Позволяет автору или исполнителю изменить статусзадачи","operationId":"updateTaskStatus","parameters":[{"name":"taskId","in":"path","description":"Идентификатор задачи","required":true,"schema":{"type":"string"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/TaskStatusRequest"}}},"required":true},"responses":{"401":{"description":"Пользователь не аутентифицирован"},"200":{"description":"Статус успешно обновлен","content":{"application/json":{"schema":{"$ref":"#/components/schemas/TaskResponse"}}}},"400":{"description":"Пользователь не является автором или исполнителем задачи и не может изменить ее статус","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"404":{"description":"Задача с таким идентификатором не найдена","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}}},"security":[{"JWT":[]}]}},"/tasks/others":{"get":{"tags":["Контроллер задач"],"summary":"Получение всех задач других пользователей","description":"Позволяет получить все задачи других пользователей. Поддерживает пагинацию","operationId":"getOtherUsersTasks","parameters":[{"name":"page","in":"query","description":"номер страницы","required":false,"schema":{"type":"integer","format":"int32","default":0}},{"name":"size","in":"query","description":"размер страницы","required":false,"schema":{"type":"integer","format":"int32","default":20}}],"responses":{"401":{"description":"Пользователь не аутентифицирован"},"200":{"description":"Задачи найдены","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/TaskResponse"}}}}}},"security":[{"JWT":[]}]}},"/tasks/my":{"get":{"tags":["Контроллер задач"],"summary":"Получение всех задач пользователя","description":"Позволяет получить все задачи пользователя.Поддерживает пагинацию","operationId":"getAllUserTasks","parameters":[{"name":"page","in":"query","description":"номер страницы","required":false,"schema":{"type":"integer","format":"int32","default":0}},{"name":"size","in":"query","description":"размер страницы","required":false,"schema":{"type":"integer","format":"int32","default":20}}],"responses":{"401":{"description":"Пользователь не аутентифицирован"},"200":{"description":"Задачи найдены","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/TaskResponse"}}}}}},"security":[{"JWT":[]}]}}},"components":{"schemas":{"TaskRequest":{"required":["description","priority","status","title"],"type":"object","properties":{"title":{"type":"string","description":"Заголовок задачи","example":"Купить продукты"},"description":{"type":"string","description":"Описание задачи","example":"Купить продукты в магазине Перекресток"},"status":{"type":"string","description":"Статус задачи","example":"WAITING","enum":["WAITING","IN_PROGRESS","COMPLETED"]},"priority":{"type":"string","description":"Приоритет задачи","example":"MEDIUM","enum":["LOW","MEDIUM","HIGH"]},"performerEmail":{"type":"string","description":"Email исполнителя задачи. Необязательное поле","example":"performer@yandex.ru"}},"description":"Запрос на создание задачи"},"ErrorResponse":{"type":"object","properties":{"statusCode":{"type":"integer","description":"Код ответа","format":"int32","example":400},"message":{"type":"string","description":"Сообщение об ошибке","example":"Please enter valid email"},"timestamp":{"type":"string","description":"Время ошибки","format":"date-time"}},"description":"Ответ при возникновении ошибки"},"CommentResponse":{"type":"object","properties":{"commentId":{"type":"string","description":"Идентификатор комментария","example":"550e8400-e29b-41d4-a716-446655440000 "},"text":{"type":"string","description":"Текст комментария","example":"Это была очень интересная задача"},"author":{"$ref":"#/components/schemas/UserResponse"}},"description":"Ответ сервера, содержащий информацию о комментарии"},"TaskResponse":{"type":"object","properties":{"taskId":{"type":"string","description":"Идентификатор задачи","example":"550e8400-e29b-41d4-a716-446655440000"},"title":{"type":"string","description":"Заголовок задачи","example":"Купить продукты"},"description":{"type":"string","description":"Описание задачи","example":"Купить продукты в магазине Перекресток"},"status":{"type":"string","description":"Статус задачи","example":"WAITING","enum":["WAITING","IN_PROGRESS","COMPLETED"]},"priority":{"type":"string","description":"Приоритет задачи","example":"MEDIUM","enum":["LOW","MEDIUM","HIGH"]},"author":{"$ref":"#/components/schemas/UserResponse"},"performer":{"$ref":"#/components/schemas/UserResponse"},"comments":{"type":"array","description":"Комментарии к задаче","items":{"$ref":"#/components/schemas/CommentResponse"}}},"description":"Ответ при запросе информации о задаче"},"UserResponse":{"type":"object","properties":{"id":{"type":"integer","description":"ID нового пользователя","format":"int64","example":1},"email":{"type":"string","description":"Email нового пользователя","example":"test@yandex.ru"}},"description":"Ответ при создании нового пользователя"},"CommentRequest":{"required":["text"],"type":"object","properties":{"text":{"type":"string","description":"Текст комментария","example":"Это была очень интересная задача"}},"description":"Запрос на добавление комментария"},"UserRequest":{"required":["email","password"],"type":"object","properties":{"email":{"type":"string","description":"Email нового пользователя","example":"test@yandex.ru"},"password":{"maxLength":2147483647,"minLength":6,"type":"string","description":"Пароль","example":"123456"}},"description":"Данные нового пользователя"},"AuthRequest":{"required":["email","password"],"type":"object","properties":{"email":{"type":"string","description":"Email","example":"test@yandex.ru"},"password":{"type":"string","description":"Пароль","example":"123456"}},"description":"Данные пользователя при аутентификации"},"JwtResponse":{"type":"object","properties":{"jwtToken":{"type":"string","description":"JWT токен","example":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIxMjM0NTY3ODkwIiwibmFtZSI6IkpvaG4gRG9lIiwiaWF0IjoxNTE2MjM5MDIyfQ.SflKxwRJSMeKKF2QT4fwpMeJf36POk6yJV_adQssw5c"}},"description":"Ответ при аутентификации"},"TaskStatusRequest":{"required":["status"],"type":"object","properties":{"status":{"type":"string","description":"Новый статус задачи","example":"WAITING","enum":["WAITING","IN_PROGRESS","COMPLETED"]}},"description":"Запрос на обновление статуса задачи"}},"securitySchemes":{"JWT":{"type":"http","scheme":"bearer","bearerFormat":"JWT"}}}}